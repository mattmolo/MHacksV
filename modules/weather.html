
<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
<style>
  html, body {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
  }
</style>
<script type="application/javascript">


function getQueryParams(qs) {
    qs = qs.split("+").join(" ");

    var params = {}, tokens,
        re = /[?&]?([^=]+)=([^&]*)/g;

    while (tokens = re.exec(qs)) {
        params[decodeURIComponent(tokens[1])]
            = decodeURIComponent(tokens[2]);
    }

    return params;
}

var query = getQueryParams(document.location.search);
url = "http://api.openweathermap.org/data/2.5/weather?q=" + query.city + "&callback=test&units=" + query.unit
$.ajax({
    type : "GET",
  dataType: "jsonp",
  jsonp: "test",
  url: url
});


var a;
function test(data){
    console.log(data)
}
</script>

</body>


</html>





